# 第六章-作业

## 1

用本章知识解决下面的问题，写出你的思路和伪代码。

在商店中， 有许多在售的物品。然而，也有一些大礼包，每个大礼包以优惠的价格捆绑销售一组物品。现给定每个物品的价格，每个大礼包包含物品的清单，以及待购物品清单。请输出确切完成待购清单的最低花费。每个大礼包由一个数组中的一组数据描述，最后一个数字代表大礼包的价格，其他数字分别表示内含的其他种类物品的数量。任意大礼包可无限次购买。

示例 $1$:

> 输入: $[2,5], [[3,0,5],[1,2,10]], [3,2]$
>
输出: $14$
>
> 解释: 
>
> 有 $A$ 和 $B$ 两种物品，价格分别为 $¥2$ 和 $¥5$。
>
> 大礼包 $1$，你可以以 $¥5$ 的价格购买 $3A$ 和 $0B$。
>
> 大礼包 $2$， 你可以以 $¥10$ 的价格购买 $1A$ 和 $2B$。
>
> 你需要买 $3$ 个 $A$ 和 $2$ 个 $B$， 所以你付了 $¥10$ 购买了 $1A$ 和 $2B$ （大礼包 $2$），以及 $¥4$ 购买 $2A$。

示例 $2$:

> 输入: $[2,3,4], [[1,1,0,4],[2,2,1,9]], [1,2,1]$
>
> 输出: $11$
> 
> 解释: 
>
> $A$，$B$，$C$ 的价格分别为 $¥2$，$¥3$，$¥4$.
>
> 你可以用 $¥4$ 购买 $1A$ 和 $1B$ ，也可以用 $¥9$ 购买 $2A$，$2B$ 和 $1C$。
>
> 你需要买 $1A$，$2B$ 和 $1C$，所以你付了 $¥4$ 买了 $1A$ 和 $1B$ （大礼包 $1$），以及 $¥3$ 购买 $1B$ ， $¥4$ 购买 $1C$。
>
> 你不可以购买超出待购清单的物品，尽管购买大礼包 $2$ 更加便宜
> 
> 说明:
>
>  最多 $6$ 种物品， $100$ 种大礼包。
>
>  每种物品，你最多只需要购买 $6$ 个。
>
>  你不可以购买超出待购清单的物品，即使更便宜。



原题: [638. 大礼包 - 力扣（LeetCode）](https://leetcode-cn.com/problems/shopping-offers/)

答:

思路:

1. 首先不考虑购入大礼包, 得到一个可行解.
2. 接着考虑购入大礼包, 找到第一个礼包中每个元素都小于当前需要元素.
3. 剪枝: 若选择购入该礼包不会减少花费, 则寻找下一个礼包.
4. 若选择购入该礼包可以减少花费, 选择并计算花费及剩下的最小花费.
5. 重复上述过程.

- price[priceSize]：待购清单-价格数组.
- special[specialSize, specialColSize]：大礼包二维数组。
- needs[needsSize] 为需要购买的数组

伪代码:(进行一个懒的偷)

源代码: [1.c](1.c)



## 2

给定一个 $4$ 个点的连通有向图，其邻接矩阵如下：

$$
\begin{bmatrix}
  \infty & 9 & 13 & 15 \\
  2 & \infty & 1 & 4 \\
  3 & 5 & \infty & 1 \\
  9 & 6 & 3 & \infty \\
\end{bmatrix}
$$
可用使用 $A^*$ 算法求这个图的旅行商问题。

(1) 请写出你的 $g(n)$ 和 $h^*(n)$ 的定义。

(2) 画出求解此图的搜索树。



答:

(1)

- $g(n)$: 沿着当前路径从起点到 $n$ 点的路径长度。

- $h^*(n)$ : $n$ 点到不会导致部分成环的点的最短边长。

(2)

![2.svg](2.svg)
